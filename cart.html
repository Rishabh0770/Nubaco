<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart - NuBaCo eCommerce</title>

  <link rel="shortcut icon" href="./assets/images/logo/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="./assets/css/style-prefix.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <style>
    :root {
      --salmon-pink: #FF6B6B;
      --eerie-black: #1a1a1a;
      --sonic-silver: #757575;
      --cultured: #f7f7f7;
      --white: #ffffff;
      --bittersweet: #ff6b6b;
      --ocean-green: #2dcc71;
      --border-radius-md: 8px;
      --border-radius-sm: 6px;
      --weight-600: 600;
      --weight-700: 700;
      --fs-7: 14px;
      --fs-8: 12px;
      --transition-timing: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }

    .cart-container {
      padding: 40px 0;
      background: #fafafa;
    }

    .cart-grid {
      display: grid !important;
      grid-template-columns: 1fr 350px !important;
      gap: 30px !important;
      margin-bottom: 50px !important;
    }

    .cart-items h1 {
      color: var(--eerie-black);
      font-size: 28px;
      font-weight: var(--weight-600);
      margin-bottom: 30px;
    }

    .quantity-btn {
      background: var(--cultured);
      color: var(--eerie-black);
      border: none;
      padding: 8px 14px;
      cursor: pointer;
      font-size: 16px;
      font-weight: var(--weight-700);
      transition: var(--transition-timing);
      min-width: 36px;
    }

    .quantity-btn:hover {
      background: var(--salmon-pink);
      color: var(--white);
    }

    .quantity-input {
      width: 45px;
      text-align: center;
      border: none;
      font-weight: var(--weight-600);
      color: var(--eerie-black);
      font-size: 16px;
    }

    .cart-item-card {
      display: flex;
      gap: 20px;
      padding: 24px;
      border: 1px solid var(--cultured);
      border-radius: var(--border-radius-md);
      margin-bottom: 20px;
      background: var(--white);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      transition: var(--transition-timing);
    }

    .cart-item-card:hover {
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    }

    .cart-item-image {
      width: 120px;
      height: 120px;
      border: 1px solid var(--cultured);
      border-radius: var(--border-radius-md);
      overflow: hidden;
      flex-shrink: 0;
    }

    .cart-item-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .cart-item-info {
      flex: 1;
    }

    .cart-item-title {
      color: var(--eerie-black);
      font-weight: var(--weight-700);
      margin-bottom: 6px;
      font-size: 16px;
    }

    .cart-item-category {
      color: var(--sonic-silver);
      font-size: var(--fs-7);
      margin-bottom: 8px;
    }

    .cart-item-price {
      color: var(--salmon-pink);
      font-size: 18px;
      font-weight: var(--weight-700);
    }

    .cart-item-actions {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .quantity-control {
      display: flex;
      align-items: center;
      border: 1px solid var(--cultured);
      border-radius: var(--border-radius-md);
      background: var(--white);
    }

    .remove-btn {
      background: var(--bittersweet);
      color: var(--white);
      padding: 10px 16px;
      border: none;
      border-radius: var(--border-radius-sm);
      cursor: pointer;
      font-size: var(--fs-7);
      transition: var(--transition-timing);
      font-weight: var(--weight-600);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .remove-btn:hover {
      background: #ff5252;
    }

    .cart-summary {
      position: sticky;
      top: 20px;
    }

    .cart-summary > div {
      background: var(--cultured);
      padding: 25px;
      border-radius: var(--border-radius-md);
    }

    .cart-summary h2 {
      color: var(--eerie-black);
      font-size: 20px;
      font-weight: var(--weight-600);
      margin-bottom: 20px;
    }

    .cart-summary div[style*="justify-content"] {
      display: flex;
      justify-content: space-between;
      padding: 15px 0;
      border-bottom: 1px solid var(--white);
      color: var(--sonic-silver);
    }

    .cart-summary button {
      width: 100%;
      background: var(--salmon-pink);
      color: var(--white);
      padding: 15px;
      border: none;
      border-radius: var(--border-radius-md);
      font-weight: var(--weight-600);
      cursor: pointer;
      transition: var(--transition-timing);
      margin-bottom: 10px;
    }

    .cart-summary button:hover {
      background: var(--eerie-black);
    }

    /* Tablet Responsive */
    @media (max-width: 768px) {
      .cart-container {
        padding: 25px 0;
      }

      .container {
        padding: 0 12px !important;
      }

      .cart-grid {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
        margin-bottom: 30px !important;
      }

      .cart-items h1 {
        font-size: 24px;
        margin-bottom: 20px;
      }

      .cart-item-card {
        gap: 15px;
        padding: 20px;
        margin-bottom: 15px;
      }

      .cart-item-image {
        width: 100%;
        height: 200px;
      }

      .cart-item-info {
        width: 100%;
      }

      .cart-item-title {
        font-size: 15px;
      }

      .cart-item-category {
        font-size: 13px;
      }

      .cart-item-price {
        font-size: 16px;
      }

      .cart-item-actions {
        flex-direction: row;
        justify-content: space-between;
        gap: 10px;
        width: 100%;
      }

      .quantity-control {
        flex: 1;
      }

      .remove-btn {
        flex: 1;
        padding: 10px 12px;
        font-size: 12px;
      }

      .cart-summary {
        position: static;
      }

      .cart-summary > div {
        padding: 20px;
      }

      .cart-summary h2 {
        font-size: 18px;
        margin-bottom: 15px;
      }

      .cart-summary div[style*="justify-content"] {
        padding: 12px 0;
        font-size: 14px;
      }

      .cart-summary button {
        padding: 12px;
        font-size: 14px;
      }

      .cart-summary p {
        font-size: 12px;
      }
    }

    /* Mobile Responsive */
    @media (max-width: 480px) {
      .cart-container {
        padding: 20px 0;
      }

      .container {
        padding: 0 10px !important;
      }

      .cart-items h1 {
        font-size: 20px;
        margin-bottom: 15px;
      }

      .cart-item-card {
        flex-direction: column;
        gap: 12px;
        padding: 15px;
        margin-bottom: 12px;
      }

      .cart-item-image {
        width: 100%;
        height: 150px;
        border-radius: 6px;
      }

      .cart-item-title {
        font-size: 14px;
        margin-bottom: 4px;
      }

      .cart-item-category {
        font-size: 12px;
        margin-bottom: 6px;
      }

      .cart-item-price {
        font-size: 15px;
      }

      .cart-item-actions {
        width: 100%;
        flex-direction: column;
        gap: 10px;
      }

      .quantity-control {
        width: 100%;
        justify-content: center;
      }

      .quantity-btn {
        padding: 8px 12px;
        font-size: 14px;
        min-width: 32px;
      }

      .quantity-input {
        width: 40px;
        font-size: 14px;
      }

      .remove-btn {
        width: 100%;
        padding: 10px;
        font-size: 12px;
        justify-content: center;
      }

      .cart-summary {
        position: static;
      }

      .cart-summary > div {
        padding: 15px;
        border-radius: 6px;
      }

      .cart-summary h2 {
        font-size: 16px;
        margin-bottom: 12px;
      }

      .cart-summary div[style*="justify-content"] {
        padding: 10px 0;
        font-size: 13px;
      }

      .cart-summary button {
        padding: 10px;
        font-size: 13px;
        margin-bottom: 8px;
      }

      .cart-summary p {
        font-size: 11px;
      }

      .cart-summary input[type="text"] {
        font-size: 13px;
        padding: 8px;
      }

      .cart-summary input[type="text"]::placeholder {
        font-size: 12px;
      }
    }
  </style>

</head>

<body>

  <div class="overlay" data-overlay></div>

  <!--
    - HEADER
  -->

  <header>

    <div class="header-top">
      <div class="container">
        <ul class="header-social-container">
          <li><a href="#" class="social-link"><ion-icon name="logo-facebook"></ion-icon></a></li>
          <li><a href="#" class="social-link"><ion-icon name="logo-twitter"></ion-icon></a></li>
          <li><a href="#" class="social-link"><ion-icon name="logo-instagram"></ion-icon></a></li>
          <li><a href="#" class="social-link"><ion-icon name="logo-linkedin"></ion-icon></a></li>
        </ul>

        <div class="header-alert-news">
          <p><b>Free Shipping</b> This Week Order Over - $55</p>
        </div>

        <div class="header-top-actions">
          <select name="currency">
            <option value="usd">USD &dollar;</option>
            <option value="eur">EUR &euro;</option>
          </select>
          <select name="language">
            <option value="en-US">English</option>
            <option value="es-ES">Espa&ntilde;ol</option>
            <option value="fr">Fran&ccedil;ais</option>
          </select>
        </div>
      </div>
    </div>

    <div class="header-main">
      <div class="container">
        <a href="index.html" class="header-logo">
          <img src="./assets/images/logo/nubaco1.webp" alt="NuBaCo logo" width="120" height="36">
        </a>

        <div class="header-search-container">
          <input type="search" name="search" class="search-field" placeholder="Enter your product name...">
          <button class="search-btn">
            <ion-icon name="search-outline"></ion-icon>
          </button>
        </div>

        <div class="header-user-actions">
          <button class="action-btn">
            <ion-icon name="person-outline"></ion-icon>
          </button>
          <a href="wishlist.html" class="action-btn">
            <ion-icon name="heart-outline"></ion-icon>
            <span class="count">0</span>
          </a>
          <a href="cart.html" class="action-btn">
            <ion-icon name="bag-handle-outline"></ion-icon>
            <span class="count">3</span>
          </a>
        </div>
      </div>
    </div>

    <nav class="desktop-navigation-menu">
      <div class="container">
        <ul class="desktop-menu-category-list">
          <li class="menu-category"><a href="index.html" class="menu-title">Home</a></li>
          <li class="menu-category"><a href="shop.html" class="menu-title">Shop</a></li>
          <li class="menu-category"><a href="about.html" class="menu-title">About Us</a></li>
          <li class="menu-category"><a href="contact.html" class="menu-title">Contact Us</a></li>
          <li class="menu-category"><a href="#" class="menu-title">Blog</a></li>
        </ul>
      </div>
    </nav>

    <div class="mobile-bottom-navigation">
      <button class="action-btn" data-mobile-menu-open-btn>
        <ion-icon name="menu-outline"></ion-icon>
      </button>
      <a href="cart.html" class="action-btn">
        <ion-icon name="bag-handle-outline"></ion-icon>
        <span class="count">3</span>
      </a>
      <button class="action-btn">
        <ion-icon name="home-outline"></ion-icon>
      </button>
      <a href="wishlist.html" class="action-btn">
        <ion-icon name="heart-outline"></ion-icon>
        <span class="count">0</span>
      </a>
      <button class="action-btn" data-mobile-menu-open-btn>
        <ion-icon name="grid-outline"></ion-icon>
      </button>
    </div>

    <nav class="mobile-navigation-menu has-scrollbar" data-mobile-menu>
      <div class="menu-top">
        <h2 class="menu-title">Menu</h2>
        <button class="menu-close-btn" data-mobile-menu-close-btn>
          <ion-icon name="close-outline"></ion-icon>
        </button>
      </div>

      <ul class="mobile-menu-category-list">
        <li class="menu-category"><a href="index.html" class="menu-title">Home</a></li>
        <li class="menu-category"><a href="shop.html" class="menu-title">Shop</a></li>
        <li class="menu-category"><a href="about.html" class="menu-title">About Us</a></li>
        <li class="menu-category"><a href="contact.html" class="menu-title">Contact Us</a></li>
      </ul>

      <div class="menu-bottom">
        <ul class="menu-category-list">
          <li class="menu-category">
            <button class="accordion-menu" data-accordion-btn>
              <p class="menu-title">Language</p>
              <ion-icon name="caret-back-outline" class="caret-back"></ion-icon>
            </button>
            <ul class="submenu-category-list" data-accordion>
              <li class="submenu-category"><a href="#" class="submenu-title">English</a></li>
              <li class="submenu-category"><a href="#" class="submenu-title">Espa&ntilde;ol</a></li>
              <li class="submenu-category"><a href="#" class="submenu-title">Fran&ccedil;h</a></li>
            </ul>
          </li>
          <li class="menu-category">
            <button class="accordion-menu" data-accordion-btn>
              <p class="menu-title">Currency</p>
              <ion-icon name="caret-back-outline" class="caret-back"></ion-icon>
            </button>
            <ul class="submenu-category-list" data-accordion>
              <li class="submenu-category"><a href="#" class="submenu-title">USD &dollar;</a></li>
              <li class="submenu-category"><a href="#" class="submenu-title">EUR &euro;</a></li>
            </ul>
          </li>
        </ul>

        <ul class="menu-social-container">
          <li><a href="#" class="social-link"><ion-icon name="logo-facebook"></ion-icon></a></li>
          <li><a href="#" class="social-link"><ion-icon name="logo-twitter"></ion-icon></a></li>
          <li><a href="#" class="social-link"><ion-icon name="logo-instagram"></ion-icon></a></li>
          <li><a href="#" class="social-link"><ion-icon name="logo-linkedin"></ion-icon></a></li>
        </ul>
      </div>
    </nav>

  </header>

  <!--
    - MAIN
  -->

  <main>

    <!--
      - CART SECTION
    -->

    <div class="cart-container">

      <div class="container">

        <div class="cart-grid">

          <!--
            - CART ITEMS
          -->

          <div class="cart-items" id="cartItemsContainer">

            <h1 style="color: var(--eerie-black); font-size: 28px; font-weight: var(--weight-600); margin-bottom: 30px;">Shopping Cart <span style="color: var(--salmon-pink);" id="cartCount">(0 items)</span></h1>

            <!-- Cart items will be loaded here by JavaScript -->
            <div id="cartItemsList"></div>

          </div>

          <!--
            - CART SUMMARY
          -->

          <div class="cart-summary">

            <div style="background: var(--cultured); padding: 25px; border-radius: var(--border-radius-md);">

              <h2 style="color: var(--eerie-black); font-size: 20px; font-weight: var(--weight-600); margin-bottom: 20px;">Order Summary</h2>

              <div style="display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid var(--white); color: var(--sonic-silver);">
                <span>Subtotal</span>
                <span style="font-weight: var(--weight-600);">$104.97</span>
              </div>

              <div style="display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid var(--white); color: var(--sonic-silver);">
                <span>Shipping</span>
                <span style="font-weight: var(--weight-600); color: var(--ocean-green);">FREE</span>
              </div>

              <div style="display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid var(--white); color: var(--sonic-silver);">
                <span>Tax (estimated)</span>
                <span style="font-weight: var(--weight-600);">$8.40</span>
              </div>

              <div style="display: flex; justify-content: space-between; padding: 20px 0; border-bottom: 1px solid var(--white); color: var(--sonic-silver);">
                <span>Discount (WELCOME10)</span>
                <span style="font-weight: var(--weight-600); color: var(--ocean-green);">-$10.50</span>
              </div>

              <div style="display: flex; justify-content: space-between; padding: 15px 0; margin-bottom: 20px;">
                <span style="color: var(--eerie-black); font-weight: var(--weight-700); font-size: 18px;">Total</span>
                <span style="color: var(--salmon-pink); font-weight: var(--weight-700); font-size: 20px;">$102.87</span>
              </div>

              <button style="width: 100%; background: var(--salmon-pink); color: var(--white); padding: 15px; border: none; border-radius: var(--border-radius-md); font-weight: var(--weight-600); cursor: pointer; transition: var(--transition-timing); margin-bottom: 10px;" onmouseover="this.style.background='var(--eerie-black)'" onmouseout="this.style.background='var(--salmon-pink)'">
                Proceed to Checkout
              </button>

              <p style="text-align: center; color: var(--sonic-silver); font-size: var(--fs-7); margin-top: 15px;">Secure checkout with SSL encryption</p>

            </div>

            <!-- Promo Code -->
            <div style="margin-top: 20px;">
              <h3 style="color: var(--eerie-black); font-weight: var(--weight-600); margin-bottom: 12px;">Apply Promo Code</h3>
              <div style="display: flex; gap: 10px;">
                <input type="text" placeholder="Enter promo code" style="flex: 1; padding: 10px; border: 1px solid var(--cultured); border-radius: var(--border-radius-sm); font-size: var(--fs-7);">
                <button style="background: var(--eerie-black); color: var(--white); padding: 10px 20px; border: none; border-radius: var(--border-radius-sm); cursor: pointer; font-weight: var(--weight-600); transition: var(--transition-timing);">Apply</button>
              </div>
              <p style="color: var(--sonic-silver); font-size: var(--fs-8); margin-top: 8px;">Use code WELCOME10 for $10 off</p>
            </div>

          </div>

        </div>

      </div>

    </div>

  </main>

  <!--
    - FOOTER
  -->

  <footer>

    <div class="footer-category">
      <div class="container">
        <h2 class="footer-category-title">Brand directory</h2>

        <div class="footer-category-box">
          <h3 class="category-box-title">Pharmaceuticals :</h3>
          <a href="#" class="footer-category-link">Tablets</a>
          <a href="#" class="footer-category-link">Capsules</a>
          <a href="#" class="footer-category-link">Syrups</a>
        </div>

        <div class="footer-category-box">
          <h3 class="category-box-title">Whey Protein :</h3>
          <a href="#" class="footer-category-link">Isolate</a>
          <a href="#" class="footer-category-link">Concentrate</a>
          <a href="#" class="footer-category-link">Mass Gainers</a>
        </div>

        <div class="footer-category-box">
          <h3 class="category-box-title">Cocoa Powder :</h3>
          <a href="#" class="footer-category-link">Organic</a>
          <a href="#" class="footer-category-link">Dutch Processed</a>
          <a href="#" class="footer-category-link">Instant Mix</a>
        </div>

        <div class="footer-category-box">
          <h3 class="category-box-title">Supplements :</h3>
          <a href="#" class="footer-category-link">Vitamins</a>
          <a href="#" class="footer-category-link">Minerals</a>
          <a href="#" class="footer-category-link">Herbs</a>
        </div>
      </div>
    </div>

    <div class="footer-nav">
      <div class="container">

        <ul class="footer-nav-list">
          <li class="footer-nav-item"><h2 class="nav-title">Popular Categories</h2></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Pharmaceuticals</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Whey Protein</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Supplements</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Cocoa Powder</a></li>
        </ul>

        <ul class="footer-nav-list">
          <li class="footer-nav-item"><h2 class="nav-title">Products</h2></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">New products</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Best sales</a></li>
          <li class="footer-nav-item"><a href="shop.html" class="footer-nav-link">All products</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Sitemap</a></li>
        </ul>

        <ul class="footer-nav-list">
          <li class="footer-nav-item"><h2 class="nav-title">Our Company</h2></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Delivery</a></li>
          <li class="footer-nav-item"><a href="about.html" class="footer-nav-link">About us</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Terms and conditions</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Secure payment</a></li>
        </ul>

        <ul class="footer-nav-list">
          <li class="footer-nav-item"><h2 class="nav-title">Services</h2></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Free shipping</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Easy returns</a></li>
          <li class="footer-nav-item"><a href="contact.html" class="footer-nav-link">Contact us</a></li>
          <li class="footer-nav-item"><a href="#" class="footer-nav-link">Support</a></li>
        </ul>

        <ul class="footer-nav-list">
          <li class="footer-nav-item"><h2 class="nav-title">Contact</h2></li>
          <li class="footer-nav-item flex">
            <div class="icon-box">
              <ion-icon name="location-outline"></ion-icon>
            </div>
            <address class="content">419 State 414 Rte, Beaver Dams, New York(NY), 14812, USA</address>
          </li>
          <li class="footer-nav-item flex">
            <div class="icon-box">
              <ion-icon name="call-outline"></ion-icon>
            </div>
            <a href="tel:+607936-8058" class="footer-nav-link">(607) 936-8058</a>
          </li>
          <li class="footer-nav-item flex">
            <div class="icon-box">
              <ion-icon name="mail-outline"></ion-icon>
            </div>
            <a href="mailto:example@gmail.com" class="footer-nav-link">example@gmail.com</a>
          </li>
        </ul>

        <ul class="footer-nav-list">
          <li class="footer-nav-item"><h2 class="nav-title">Follow Us</h2></li>
          <li>
            <ul class="social-link">
              <li class="footer-nav-item"><a href="#" class="footer-nav-link"><ion-icon name="logo-facebook"></ion-icon></a></li>
              <li class="footer-nav-item"><a href="#" class="footer-nav-link"><ion-icon name="logo-twitter"></ion-icon></a></li>
              <li class="footer-nav-item"><a href="#" class="footer-nav-link"><ion-icon name="logo-linkedin"></ion-icon></a></li>
              <li class="footer-nav-item"><a href="#" class="footer-nav-link"><ion-icon name="logo-instagram"></ion-icon></a></li>
            </ul>
          </li>
        </ul>

      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <img src="./assets/images/payment.webp" alt="payment method" class="payment-img">
        <p class="copyright">Copyright &copy; <a href="index.html">NuBaCo</a> all rights reserved.</p>
      </div>
    </div>

  </footer>

  <!-- Scripts -->
  <script src="./assets/js/cart-manager.js"></script>
  <script src="./assets/js/script.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <script>
    // Cart functionality
    function increaseQuantity(btn) {
      const input = btn.parentElement.querySelector('.quantity-input');
      input.value = parseInt(input.value) + 1;
      updateCartCount();
      updateCartSummary();
    }

    function decreaseQuantity(btn) {
      const input = btn.parentElement.querySelector('.quantity-input');
      if (parseInt(input.value) > 1) {
        input.value = parseInt(input.value) - 1;
      }
      updateCartCount();
      updateCartSummary();
    }

    function removeItem(btn) {
      const cartItem = btn.closest('.cart-item-card');
      cartItem.style.opacity = '0';
      cartItem.style.transition = 'opacity 0.3s ease';
      setTimeout(() => {
        cartItem.remove();
        updateCartCount();
        updateCartSummary();
      }, 300);
    }

    function updateCartCount() {
      let totalItems = 0;
      document.querySelectorAll('.cart-item-card').forEach(item => {
        const qty = parseInt(item.querySelector('.quantity-input').value) || 0;
        totalItems += qty;
      });
      document.getElementById('cartCount').textContent = `(${totalItems} items)`;
      
      // Update bag icon count in header
      document.querySelectorAll('.action-btn').forEach(btn => {
        if (btn.querySelector('[name="bag-handle-outline"]') || btn.innerHTML.includes('bag-handle-outline')) {
          const countSpan = btn.querySelector('.count');
          if (countSpan) {
            countSpan.textContent = totalItems;
          }
        }
      });
    }

    function updateCartSummary() {
      const prices = [39.99, 24.99, 19.99];
      let subtotal = 0;
      let itemIndex = 0;

      document.querySelectorAll('.cart-item-card').forEach(item => {
        const qty = parseInt(item.querySelector('.quantity-input').value) || 0;
        if (prices[itemIndex]) {
          subtotal += prices[itemIndex] * qty;
        }
        itemIndex++;
      });

      const tax = subtotal * 0.08;
      const discount = 10.50;
      const total = subtotal + tax - discount;

      // Update summary if it exists
      const summaryElements = document.querySelectorAll('.cart-summary');
      if (summaryElements.length > 0) {
        const summaryDiv = summaryElements[0];
        const lines = summaryDiv.querySelectorAll('div[style*="justify-content"]');
        if (lines.length >= 4) {
          lines[0].querySelector('span:last-child').textContent = '$' + subtotal.toFixed(2);
          lines[2].querySelector('span:last-child').textContent = '$' + tax.toFixed(2);
          lines[3].querySelector('span:last-child').textContent = '-$' + discount.toFixed(2);
          const totalLine = summaryDiv.querySelectorAll('div[style*="justify-content"]')[4];
          if (totalLine) {
            totalLine.querySelector('span:last-child').textContent = '$' + total.toFixed(2);
          }
        }
      }
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
      loadCartItems();
      updateCartCountNavbar();
    });

    // Load cart items from localStorage
    function loadCartItems() {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const cartItemsList = document.getElementById('cartItemsList');
      const cartCount = document.getElementById('cartCount');

      cartItemsList.innerHTML = '';

      if (cart.length === 0) {
        cartItemsList.innerHTML = '<div style="text-align: center; padding: 60px 20px; background: var(--cultured); border-radius: var(--border-radius-md);"><p style="color: var(--sonic-silver); font-size: 16px; margin-bottom: 20px;">Your cart is empty</p><a href="shop.html" style="display: inline-block; background: var(--salmon-pink); color: var(--white); padding: 12px 30px; border-radius: var(--border-radius-md); text-decoration: none; font-weight: var(--weight-600);">Continue Shopping</a></div>';
        cartCount.textContent = '(0 items)';
        updateOrderSummary([]);
        return;
      }

      cartCount.textContent = '(' + cart.length + ' items)';

      cart.forEach((item, index) => {
        const itemHTML = `
          <div class="cart-item-card" data-product-index="${index}">
            <div class="cart-item-image">
              <img src="${item.image || './assets/images/products/whey-powder.webp'}" alt="${item.name}" onerror="this.src='./assets/images/products/whey-powder.webp'">
            </div>
            <div class="cart-item-info">
              <h3 class="cart-item-title">${item.name}</h3>
              <p class="cart-item-category">Category: Supplements</p>
              <p class="cart-item-price">₹${item.price.toLocaleString('en-IN')}</p>
            </div>
            <div class="cart-item-actions">
              <div class="quantity-control">
                <button class="quantity-btn minus-btn" onclick="decreaseCartQuantity(${index})">−</button>
                <input type="number" class="quantity-input" value="${item.quantity || 1}" min="1" readonly>
                <button class="quantity-btn plus-btn" onclick="increaseCartQuantity(${index})">+</button>
              </div>
              <button class="remove-btn" onclick="removeCartItem(${index})">
                <ion-icon name="trash-outline"></ion-icon> Remove
              </button>
            </div>
          </div>
        `;
        cartItemsList.innerHTML += itemHTML;
      });

      // Add continue shopping button
      cartItemsList.innerHTML += `
        <div style="text-align: center; padding: 30px; background: var(--cultured); border-radius: var(--border-radius-md); margin-top: 30px;">
          <p style="color: var(--sonic-silver); margin-bottom: 15px;">Continue shopping with more great products</p>
          <a href="shop.html" style="display: inline-block; background: var(--salmon-pink); color: var(--white); padding: 12px 30px; border-radius: var(--border-radius-md); text-decoration: none; font-weight: var(--weight-600); transition: var(--transition-timing);" onmouseover="this.style.background='var(--eerie-black)'" onmouseout="this.style.background='var(--salmon-pink)'">Continue Shopping</a>
        </div>
      `;

      updateOrderSummary(cart);
    }

    // Increase quantity
    function increaseCartQuantity(index) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      if (cart[index]) {
        cart[index].quantity = (cart[index].quantity || 1) + 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        loadCartItems();
        updateCartCountNavbar();
      }
    }

    // Decrease quantity
    function decreaseCartQuantity(index) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      if (cart[index]) {
        if (cart[index].quantity > 1) {
          cart[index].quantity -= 1;
        } else {
          cart.splice(index, 1);
        }
        localStorage.setItem('cart', JSON.stringify(cart));
        loadCartItems();
        updateCartCountNavbar();
      }
    }

    // Remove item from cart
    function removeCartItem(index) {
      if (confirm('Are you sure you want to remove this item?')) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        loadCartItems();
        updateCartCountNavbar();
      }
    }

    // Update order summary
    function updateOrderSummary(cart) {
      let subtotal = 0;
      cart.forEach(item => {
        subtotal += (item.price * (item.quantity || 1));
      });

      const tax = subtotal * 0.0;
      const discount = 0;
      const total = subtotal + tax - discount;

      const summaryDiv = document.querySelector('.cart-summary');
      if (summaryDiv) {
        const lines = summaryDiv.querySelectorAll('div[style*="justify-content"]');
        if (lines.length >= 4) {
          lines[0].querySelector('span:last-child').textContent = '₹' + subtotal.toLocaleString('en-IN');
          lines[2].querySelector('span:last-child').textContent = '₹' + tax.toFixed(2);
          lines[3].querySelector('span:last-child').textContent = '-₹' + discount.toFixed(2);
          const totalLine = summaryDiv.querySelectorAll('div[style*="justify-content"]')[4];
          if (totalLine) {
            totalLine.querySelector('span:last-child').textContent = '₹' + total.toLocaleString('en-IN');
          }
        }
      }
    }
  </script>

</body>

</html>
